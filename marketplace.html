<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Market Place</title>
  <link rel="stylesheet" href="css/marketplaceDesign.css" />
</head>
<body>
<section class="market-wrap">
  <div class="currency-bar">
  <!-- <button id="connectBtn" class="neon-btn">Connect Wallet</button> -->
      <span>MTK: <span id="gold">-</span></span>
      <span>ETH: <span id="gems">-</span></span>
  </div>
</div>

    <nav class="shop-tabs">
    <button class="tab active" data-tab="Fire">Fire Pokemons</button>
    <button class="tab" data-tab="Water">Water Pokemons</button>
    <button class="tab" data-tab="Normal">Normal Pokemons</button>
    <button class="tab" data-tab="Poison">Poison Pokemons</button>
    <button class="tab" data-tab="Dragon">Dragon Pokemons</button>
    <button class="tab" data-tab="Owned">Owned Champions</button>
    </nav>

  <div id="shopContent" class="shop-grid"></div>
  <a href = "index.html" id="backBtn" class="neon-btn" style="text-decoration: none;">Back to Menu</a>
</section>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script src="scripts/marketPlaceScript.js"></script>
<script>
          function connect() {
            ethereum
                .request({
                    method: 'eth_requestAccounts'
                })
                .then(handleAccountsChanged)
                .catch((error) => {
                    if (error.code === 4001) {
                        // EIP-1193 userRejectedRequest error
                        console.log('Please connect to MetaMask.');
                    } else {
                        console.error(error);
                    }
                });
        }

        async function switchNetwork() {
            try {

                // Prompt user to switch to Polygon

                await ethereum.request({
                    method: 'wallet_switchEthereumChain',
                    params: [{
                        chainId: '0x89'
                    }],
                });

            } catch (switchError) {

                // This error code indicates that the chain has not been added to MetaMask.

                if (switchError.code === 4902) {
                    try {

                        // Prompt user to add Polygon to MetaMask if not already configured

                        await ethereum.request({
                            method: 'wallet_addEthereumChain',
                            params: [{
                                chainId: '0x89',
                                chainName: 'Polygon mainnet',
                                rpcUrls: ['https://polygon-rpc.com/'] /* ... */ ,
                            }, ],
                        });
                    } catch (addError) {
                        // handle "add" error
                    }
                }
                // handle other "switch" errors
            }
        }
</script>
</body>
</html>